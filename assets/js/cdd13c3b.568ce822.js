"use strict";(self.webpackChunkdocs_2=self.webpackChunkdocs_2||[]).push([[6830],{8795:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>d,default:()=>a,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var s=r(4848),n=r(8453);const l={id:"BaseController",title:"BaseController"},d=void 0,o={id:"controllers/extendable/BaseController",title:"BaseController",description:"Purpose",source:"@site/docs/controllers/extendable/base_controller.mdx",sourceDirName:"controllers/extendable",slug:"/controllers/extendable/BaseController",permalink:"/stimulus-library/docs/controllers/extendable/BaseController",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"BaseController",title:"BaseController"},sidebar:"DocsSidebar",previous:{title:"PollBlockController",permalink:"/stimulus-library/docs/controllers/ajax/PollBlockController"},next:{title:"EphemeralController",permalink:"/stimulus-library/docs/controllers/extendable/EphemeralController"}},i={},c=[{value:"Purpose",id:"purpose",level:2},{value:"Properties",id:"properties",level:2},{value:"Methods",id:"methods",level:2},{value:"Side Effects / Inherited Behaviour",id:"side-effects--inherited-behaviour",level:2},{value:"How to Use",id:"how-to-use",level:2}];function h(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"purpose",children:"Purpose"}),"\n",(0,s.jsx)(t.p,{children:"Provide common utilities and base functionality for all Stimulus controllers that extend this controller."}),"\n",(0,s.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(t.p,{children:"This controller provides the following properties to controllers that extend it."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Purpose"}),(0,s.jsx)(t.th,{children:"Return Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"el"})}),(0,s.jsxs)(t.td,{children:["For Typescript projects, provides a wrapper around ",(0,s.jsx)(t.code,{children:"this.element"})," typecast to ",(0,s.jsx)(t.code,{children:"HTMLElement"})," so that type-hinting correctly works for all DOM APIs"]}),(0,s.jsxs)(t.td,{children:["The controller root element, as an ",(0,s.jsx)(t.code,{children:"HTMLElement"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"isTurboPreview"})}),(0,s.jsxs)(t.td,{children:["Whether or not the document is currently displaying a preview from the Hotwire/Turbo cache ",(0,s.jsx)(t.a,{href:"https://turbo.hotwire.dev/handbook/building#detecting-when-a-preview-is-visible",children:"https://turbo.hotwire.dev/handbook/building#detecting-when-a-preview-is-visible"}),". Also works with legacy Turbolinks"]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"boolean"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"isTurbolinksPreview"})}),(0,s.jsxs)(t.td,{children:["Alias for ",(0,s.jsx)(t.code,{children:"isTurboPreview"}),", both methods work for both Turbolinks and Hotwire"]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"boolean"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"csrfToken"})}),(0,s.jsxs)(t.td,{children:["The current Rails CSRF token, taken from the ",(0,s.jsx)(t.code,{children:"<meta>"})," tag Rails inserts into the document head, if present."]}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"string"})," or ",(0,s.jsx)(t.code,{children:"null"})]})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(t.p,{children:"This controller provides the following methods to controllers that extend it."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Parameters"}),(0,s.jsx)(t.th,{children:"Purpose"}),(0,s.jsx)(t.th,{children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"dispatchEvent"})}),(0,s.jsx)(t.td,{}),(0,s.jsx)(t.td,{children:"Dispatch a custom event"}),(0,s.jsx)(t.td,{})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"element"})}),(0,s.jsx)(t.td,{children:"The element to dispatch the event on"}),(0,s.jsx)(t.td,{})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"eventName"})}),(0,s.jsxs)(t.td,{children:["The fully qualified name of the event. Usually follows the format ",(0,s.jsx)(t.code,{children:"controller-identifier:event"})]}),(0,s.jsx)(t.td,{})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"options"})," (Optional)"]}),(0,s.jsxs)(t.td,{children:["The options to initialize the event with. See the options ",(0,s.jsx)(t.code,{children:"eventInit"})," accepts: ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Event/Event",children:"https://developer.mozilla.org/en-US/docs/Web/API/Event/Event"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{ bubbles: true, cancellable: true, details: { element: this.element } }"})})]})]})]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Parameters"}),(0,s.jsx)(t.th,{children:"Purpose"}),(0,s.jsx)(t.th,{children:"Return value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"metaValue"})}),(0,s.jsx)(t.td,{}),(0,s.jsxs)(t.td,{children:["Fetch a value from a ",(0,s.jsx)(t.code,{children:"<meta>"})," tag in the ",(0,s.jsx)(t.code,{children:"<head>"})," of the document."]}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"string"})," or ",(0,s.jsx)(t.code,{children:"null"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"name"})}),(0,s.jsxs)(t.td,{children:["The ",(0,s.jsx)(t.code,{children:"name"})," attribute of the ",(0,s.jsx)(t.code,{children:"meta"})," tag to fetch the value of"]}),(0,s.jsx)(t.td,{})]})]})]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Parameters"}),(0,s.jsx)(t.th,{children:"Purpose"}),(0,s.jsx)(t.th,{children:"Return value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"eventName"})}),(0,s.jsx)(t.td,{}),(0,s.jsxs)(t.td,{children:["Construct an colon separated event name using the controllers identifier .i.e in ",(0,s.jsx)(t.code,{children:"FooController"})," calling ",(0,s.jsx)(t.code,{children:'eventName("loaded")'})," would result in ",(0,s.jsx)(t.code,{children:"foo:loaded"}),"."]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"string"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"eventName"})}),(0,s.jsx)(t.td,{children:"The name of the event to append to the controllers identifier to create a fully namespaced event"}),(0,s.jsx)(t.td,{})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"side-effects--inherited-behaviour",children:"Side Effects / Inherited Behaviour"}),"\n",(0,s.jsxs)(t.p,{children:["If ",(0,s.jsx)(t.a,{href:"/docs/debugging",children:"debug mode"})," is enabled, any controller that extends BaseController controller will automatically log calls to any actions or methods, and events dispatched with the ",(0,s.jsx)(t.code,{children:"dispatchEvent"})," method provided by stimulus-library."]}),"\n",(0,s.jsxs)(t.p,{children:["If there are any getters, setters, methods or properties that should not be logged, you should name them with an underscore prefix i.e. ",(0,s.jsx)(t.code,{children:"_foo() {}"}),", or ",(0,s.jsx)(t.code,{children:'_bar = "baz"'})," to indicate that they are private methods."]}),"\n",(0,s.jsx)(t.h2,{id:"how-to-use",children:"How to Use"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'import {BaseController} from "stimulus-library";\n\nexport default class FooController extends BaseController {\n  // ...\n\n foo() {\n   this.dispatchEvent(this.el, "foo:something-happened", { bubbles: true, cancellable: true, detail: { element: this.el, data: \'thing\' } } ) // dispatches a custom event named `foo:something-happened`\n   // or\n   this.dispatchEvent(this.el, this.eventName("something-happened"), { bubbles: true, cancellable: true, detail: { element: this.el, data: \'thing\' } } ) // also dispatches `foo:something-happened`\n }\n\n}\n'})})]})}function a(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>d,x:()=>o});var s=r(6540);const n={},l=s.createContext(n);function d(e){const t=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),s.createElement(l.Provider,{value:t},e.children)}}}]);