"use strict";(self.webpackChunkdocs_2=self.webpackChunkdocs_2||[]).push([[3756],{2351:(e,t,r)=>{r.d(t,{Ay:()=>i});var n=r(4848),s=r(8453);function d(e){const t={code:"code",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Action"}),(0,n.jsx)(t.th,{children:"Purpose"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"-"})}),(0,n.jsx)(t.td,{children:"-"})]})})]})}function i(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},6144:(e,t,r)=>{r.d(t,{Ay:()=>i});var n=r(4848),s=r(8453);function d(e){const t={code:"code",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Class"}),(0,n.jsx)(t.th,{children:"Purpose"}),(0,n.jsx)(t.th,{children:"Default"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"-"})}),(0,n.jsx)(t.td,{children:"-"}),(0,n.jsx)(t.td,{children:"-"})]})})]})}function i(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},9906:(e,t,r)=>{r.d(t,{Ay:()=>i});var n=r(4848),s=r(8453);function d(e){const t={code:"code",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Target"}),(0,n.jsx)(t.th,{children:"Purpose"}),(0,n.jsx)(t.th,{children:"Default"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"-"})}),(0,n.jsx)(t.td,{children:"-"}),(0,n.jsx)(t.td,{children:"-"})]})})]})}function i(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8264:(e,t,r)=>{r.d(t,{Ay:()=>i});var n=r(4848),s=r(8453);function d(e){const t={code:"code",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Value"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{children:"Description"}),(0,n.jsx)(t.th,{children:"Default"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"-"})}),(0,n.jsx)(t.td,{children:"-"}),(0,n.jsx)(t.td,{children:"-"}),(0,n.jsx)(t.td,{children:"-"})]})})]})}function i(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8389:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>x,contentTitle:()=>h,default:()=>f,frontMatter:()=>c,metadata:()=>a,toc:()=>j});var n=r(4848),s=r(8453),d=r(9906),i=r(6144),o=r(8264),l=r(2351);const c={id:"FormDirtyConfirmNavigationController",title:"FormDirtyConfirmNavigationController"},h=void 0,a={id:"controllers/form/FormDirtyConfirmNavigationController",title:"FormDirtyConfirmNavigationController",description:"Purpose",source:"@site/docs/controllers/form/form_dirty_confirm_navigation_controller.mdx",sourceDirName:"controllers/form",slug:"/controllers/form/FormDirtyConfirmNavigationController",permalink:"/stimulus-library/docs/controllers/form/FormDirtyConfirmNavigationController",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"FormDirtyConfirmNavigationController",title:"FormDirtyConfirmNavigationController"},sidebar:"DocsSidebar",previous:{title:"FocusStealController",permalink:"/stimulus-library/docs/controllers/form/FocusStealController"},next:{title:"FormRcController",permalink:"/stimulus-library/docs/controllers/form/FormRcController"}},x={},j=[{value:"Purpose",id:"purpose",level:2},{value:"Actions",id:"actions",level:2},{value:"Targets",id:"targets",level:2},{value:"Classes",id:"classes",level:2},{value:"Values",id:"values",level:2},{value:"Events",id:"events",level:2},{value:"Side Effects",id:"side-effects",level:2},{value:"How to Use",id:"how-to-use",level:2}];function u(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"purpose",children:"Purpose"}),"\n",(0,n.jsxs)(t.p,{children:["Track whether any of the inputs elements of a ",(0,n.jsx)(t.code,{children:"<form>"})," have changed their value from the value they loaded with,\nand if so prevent navigation away from the page without confirmation."]}),"\n",(0,n.jsxs)(t.p,{children:["Adds ",(0,n.jsx)(t.code,{children:"data-dirty"})," to any inputs being watched that change value, and removes ",(0,n.jsx)(t.code,{children:"data-dirty"})," if it returns to its initial value.\nAdds ",(0,n.jsx)(t.code,{children:"data-dirty"})," to the form if any of the child inputs are different to the value they loaded with, and removes it when all elements are returned to their initial values.\nAlert the user when they try to navigate away from a page that might have unsaved changes on it.\nForm submissions will not trigger the dialogue, but closing the page or navigating away will get a confirmation dialogue."]}),"\n",(0,n.jsx)(t.p,{children:"Works with Turbolinks and Hotwire/Turbo."}),"\n",(0,n.jsx)(t.h2,{id:"actions",children:(0,n.jsx)(t.a,{href:"https://stimulus.hotwire.dev/reference/actions",children:"Actions"})}),"\n",(0,n.jsx)(l.Ay,{}),"\n",(0,n.jsx)(t.h2,{id:"targets",children:(0,n.jsx)(t.a,{href:"https://stimulus.hotwire.dev/reference/targets",children:"Targets"})}),"\n",(0,n.jsx)(d.Ay,{}),"\n",(0,n.jsx)(t.h2,{id:"classes",children:(0,n.jsx)(t.a,{href:"https://stimulus.hotwire.dev/reference/classes",children:"Classes"})}),"\n",(0,n.jsx)(i.Ay,{}),"\n",(0,n.jsx)(t.h2,{id:"values",children:(0,n.jsx)(t.a,{href:"https://stimulus.hotwire.dev/reference/values",children:"Values"})}),"\n",(0,n.jsx)(o.Ay,{}),"\n",(0,n.jsx)(t.h2,{id:"events",children:"Events"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Event"}),(0,n.jsx)(t.th,{children:"When"}),(0,n.jsx)(t.th,{children:"Dispatched on"}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.code,{children:"event.detail"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"input-dirtied"})}),(0,n.jsx)(t.td,{children:"-"}),(0,n.jsxs)(t.td,{children:["the ",(0,n.jsx)(t.code,{children:"input"}),", ",(0,n.jsx)(t.code,{children:"textarea"})," or ",(0,n.jsx)(t.code,{children:"select"})," that changed"]}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.code,{children:"target"}),": the input that changed"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"input-cleaned"})}),(0,n.jsx)(t.td,{children:"-"}),(0,n.jsxs)(t.td,{children:["the ",(0,n.jsx)(t.code,{children:"input"}),", ",(0,n.jsx)(t.code,{children:"textarea"})," or ",(0,n.jsx)(t.code,{children:"select"})," that changed"]}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.code,{children:"target"}),": the input that changed"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"form-dirtied"})}),(0,n.jsx)(t.td,{children:"-"}),(0,n.jsxs)(t.td,{children:["the ",(0,n.jsx)(t.code,{children:"form"}),"   that changed"]}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.code,{children:"target"}),": the form that changed"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"form-cleaned"})}),(0,n.jsx)(t.td,{children:"-"}),(0,n.jsxs)(t.td,{children:["the ",(0,n.jsx)(t.code,{children:"form"}),"   that changed"]}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.code,{children:"target"}),": the form that changed"]})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"side-effects",children:"Side Effects"}),"\n",(0,n.jsxs)(t.p,{children:["Adds ",(0,n.jsx)(t.code,{children:"input"})," and ",(0,n.jsx)(t.code,{children:"change"})," event listeners to the attached form, bubbled up from any child inputs."]}),"\n",(0,n.jsxs)(t.p,{children:["Adds event listeners onto the ",(0,n.jsx)(t.code,{children:"window"}),", and shows a confirmation dialogue for:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"popstate"})}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"submit"}),"."]}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"turbolinks:before-visit"})}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"turbo:before-visit"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Also adds a native confirmation dialogue using ",(0,n.jsx)(t.code,{children:"window.onbeforeunload"}),", to detect tab closing."]}),"\n",(0,n.jsx)(t.h2,{id:"how-to-use",children:"How to Use"}),"\n",(0,n.jsx)("iframe",{src:"https://stimulus-library.netlify.app/controllers/form_dirty_confirm_navigation_controller.html",style:{width:"100%",height:"500px",border:"0",borderRadius:"4px",overflow:"hidden"},sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})]})}function f(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>o});var n=r(6540);const s={},d=n.createContext(s);function i(e){const t=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(d.Provider,{value:t},e.children)}}}]);