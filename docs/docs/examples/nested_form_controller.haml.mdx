```haml
-#<!-- FILE: tasks/form -->

-#<!--
-#.....
-#Parent association fields
-#.....
-#-->

%h4 Tasks
%div{ data: { controller: "nested-form", nested_form_wrapper_class_value: "nested-fields" } }
  %script{ type: "text/x-template", data: { nested_form_target: "template" } }
    = f.simple_fields_for :tasks, Task.new, child_index: 'NEW_RECORD' do |task|
      = render "task_fields", f: task

  %div{ data: { nested_form_target: "target"} }
    = f.simple_fields_for :tasks do |task|
      = render "task_fields", f: task

  = link_to "Add Task", "#", class: "button green", data: { action: "click->nested-form#add" }

-#<!--
-#.....
-#Parent association fields
-#.....
-#-->







-#<!-- FILE: tasks/_task_fields -->
= content_tag :div, class: "nested-fields", data: { new_record: f.object.new_record? } do
  .form-group
    = f.label :description
    = f.text_field :description, class: 'form-control'

  %small= link_to "Remove", "#", data: { action: "click->nested-form#remove" }
  = f.hidden_field :_destroy```