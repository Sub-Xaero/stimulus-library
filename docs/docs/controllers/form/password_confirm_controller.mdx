---
id: PasswordConfirmController
title: PasswordConfirmController
---


import NoActions from "../../_partials/no-actions.md";
import NoValues from "../../_partials/no-values.md";
import { Sandpack } from "@codesandbox/sandpack-react";

## Purpose

Controller to alert users when setting/changing their password, that their passwords don't match.


## [Actions](https://stimulus.hotwire.dev/reference/actions)
<NoActions/>

## [Targets](https://stimulus.hotwire.dev/reference/targets)

| Target     | Purpose                                                          | Default |
|------------|------------------------------------------------------------------|---------|
| `password` | All the `<input>`s you want to be included in the equality check | -       |

## [Classes](https://stimulus.hotwire.dev/reference/classes)

| Class              | Purpose                                                            | Default |
|--------------------|--------------------------------------------------------------------|---------|
| `error` (Optional) | The class to apply to all `password` targets when they don't match | -       |

## [Values](https://stimulus.hotwire.dev/reference/values)
<NoValues/>

## Events

| Event                       | When                      | Dispatched on          | `event.detail` |
|-----------------------------|---------------------------|------------------------|----------------|
| `password-confirm:match`    | When all inputs match     | The controller element | -              |
| `password-confirm:no-match` | When not all inputs match | The controller element | -              |

## Side Effects

The controller will add `change` event listeners to all `password` targets.



## How to Use

<Sandpack
  template={"vanilla"}
  options={{
    externalResources: [
      "https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css",
      "https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    ]
  }}
  customSetup={{
    dependencies: {
      "@hotwired/stimulus": "latest",
      "stimulus-library": "latest"
    }
  }}
  files={{
    "/index.html": `<div class="container mt-5">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <div
        data-controller="password-confirm"
        data-password-confirm-error-class="is-invalid"
      >
        <div class="mb-3">
          <label class="form-label" for="password">Password</label>
          <input
            class="form-control"
            id="password"
            type="password"
            name="password"
            autocomplete="new-password"
            data-password-confirm-target="password"
          />
        </div>

        <div class="mb-3">
          <label class="form-label" for="password_confirmation">Confirm Password</label>
          <input
            class="form-control"
            id="password_confirmation"
            type="password"
            name="password_confirmation"
            autocomplete="new-password"
            data-password-confirm-target="password"
          />
          <div class="invalid-feedback">
            Passwords do not match
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="password_extra">Extra Password Field</label>
          <input
            class="form-control"
            id="password_extra"
            type="password"
            name="password_extra"
            autocomplete="new-password"
            data-password-confirm-target="password"
          />
        </div>
      </div>
    </div>
  </div>
</div>`,
    "/index.js": `
    import { Application } from '@hotwired/stimulus';
    import { PasswordConfirmController } from 'stimulus-library';
    
    const app = Application.start();
    app.debug = true;
    app.register('password-confirm', PasswordConfirmController);
`,
  }}
/>

The controller will check if all password fields match and apply error styling when they don't. In this example:

1. Three password fields demonstrate the controller's ability to check multiple fields
2. Error styling is applied to all fields when passwords don't match
3. The controller works with any number of password fields

## See Also

### Example


<iframe
  src="https://stimulus-library.netlify.app/controllers/password_confirm_controller.html"
  style={{width: "100%", height: "500px", border: "0", borderRadius: "4px", overflow: "hidden"}}
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
/>