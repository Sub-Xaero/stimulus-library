---
id: FormSaveController
title: FormSaveController
---


import NoTargets from "../../_partials/no-targets.md";
import NoClasses from "../../_partials/no-classes.md";
import { Sandpack } from "@codesandbox/sandpack-react";

## Purpose

Save the value of a form and all of its inputs to LocalStorage, and restore it, at will.


## [Actions](https://stimulus.hotwire.dev/reference/actions)

| Action    | Purpose                                                  |
|-----------|----------------------------------------------------------|
| `save`    | Save the contents of the form to localstorage            |
| `restore` | Restore the form to its previous state from localstorage |
| `clear`   | Clear any saved state from localstorage                  |

## [Targets](https://stimulus.hotwire.dev/reference/targets)
<NoTargets/>

## [Classes](https://stimulus.hotwire.dev/reference/classes)
<NoClasses/>

## [Values](https://stimulus.hotwire.dev/reference/values)

| Value           | Type      | Description                                                                                                                        | Default                                                                                               |
|-----------------|-----------|------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
| `id`            | `String`  | The unique ID of this form on the page. This combined with the current URL will allow multiple forms on the same page to all save. | The ID of the controller root element, or throw an error an ID is not found and this is not specified |
| `restoreOnLoad` | `Boolean` | Whether the controller should try to restore any previous state when the controller connects                                       | true                                                                                                  |
| `clearOnSubmit` | `Boolean` | Whether the controller should clean out the saved value when the form submits                                                      | true                                                                                                  |

## Events

| Event                       | When                                                                         | Dispatched on                          | `event.detail` |
|-----------------------------|------------------------------------------------------------------------------|----------------------------------------|----------------|
| `form-save:cleared`         | When the form is cleared, either by `submit` or when triggered by an action  | The controller root element (the form) | -              |
| `form-save:save:success`    | When the form saves successfully                                             | The controller root element (the form) | -              |
| `form-save:restore:success` | When the form restores values successfully                                   | The controller root element (the form) | -              |
| `form-save:restore:empty`   | When a restore is triggered, but there is nothing in localstorage to restore | The controller root element (the form) | -              |



## Side Effects

If  the `clearOnSubmit` value is set to `true`, a `submit` event listener will be installed on the form.



## How to Use

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<div class="container p-4 text-center">
  <form id="test-form" data-controller="form-save">
    <div>
      <label class="form-label">
        Name
        <input class="form-control" type="text" name="name"/>
      </label>
    </div>
    <div>
      <label class="form-label">
        Age
        <input class="form-control" type="number" name="age"/>
      </label>
    </div>
    <div>
      <label class="form-label">
        Quest
        <textarea class="form-control" name="quest"></textarea>
      </label>
    </div>

    <div>
      <label class="form-check-label">
        Do you like cake?
        <input class="form-check-input" type="checkbox" name="gorilla"/>
      </label>
    </div>
    <br/>
    <div>
      <p>Favourite Ice Cream</p>
      <br/>
      <label class="form-check-label">
        Mint
        <input
          class="form-check-input"
          type="radio"
          name="ice_cream"
          value="Mint"
        />
      </label>
      <label class="form-check-label">
        Chocolate
        <input
          class="form-check-input"
          type="radio"
          name="ice_cream"
          value="Chocolate"
        />
      </label>
      <label class="form-check-label">
        Vanilla
        <input
          class="form-check-input"
          type="radio"
          name="ice_cream"
          value="Vanilla"
        />
      </label>
    </div>
    <hr/>

    <div>
      <a class="btn btn-primary" data-action="form-save#restore">Restore saved progress</a>
      <a class="btn btn-success" data-action="form-save#save">Save your progress</a>
    </div>
    <hr/>
    <div>
      <button class="btn btn-secondary" type="reset">Reset</button>
      <button class="btn btn-primary" type="submit">Submit</button>
    </div>
  </form>
</div>`
  }}
  customSetup={{
    dependencies: {
      "@hotwired/stimulus": "3.2.2",
      "@stimulus-library/controllers": "latest"
    }
  }}
  theme="light"
/>


