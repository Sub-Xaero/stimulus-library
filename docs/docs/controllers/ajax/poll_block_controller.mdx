---
id: PollBlockController
title: PollBlockController
---


import NoActions from "../../_partials/no-actions.md";
import NoClasses from "../../_partials/no-classes.md";
import NoSideEffects from "../../_partials/no-side-effects.md";

## Purpose

AJAX load/refresh content periodically, at a configurable interval.


## [Actions](https://stimulus.hotwire.dev/reference/actions)
<NoActions/>

## [Targets](https://stimulus.hotwire.dev/reference/targets)

| Target               | Purpose                                               | Default                     |
|----------------------|-------------------------------------------------------|-----------------------------|
| `replace` (Optional) | The element to replace when the fetch request succeed | the controller root element |

## [Classes](https://stimulus.hotwire.dev/reference/classes)
<NoClasses/>

## [Values](https://stimulus.hotwire.dev/reference/values)

| Value                     | Type   | Description                                                                                                                        | Default                                        |
|---------------------------|--------|------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
| `seconds`                 | String | The number of seconds between each refresh. When the time has elapsed, the controller will send a `Fetch` request for the content. | -                                              |
| `endpoint`                | String | The URL to fetch content from                                                                                                      | -                                              |
| `errorMessage` (Optional) | String | The error message to display when the remote content fails to load                                                                 | `This content failed to load`                  |
| `selector` (Optional)     | String | The CSS selector to use to extract the desired element(s) from the returned HTML response                                          | Empty. The entire HTML response will be loaded |
| `maxRetries` (Optional)   | Number | How many times the controller should retry fetching the content in the event of network errors or bad responses                    | 1                                              |

## Events

| Event                 | When                                                        | Dispatched on               | `event.detail` |
|-----------------------|-------------------------------------------------------------|-----------------------------|----------------|
| `poll-block:success`  | When the content is fetch successfully                      | the controller root element | -              |
| `poll-block:error`    | When the block fails to get a response from the endpoint    | the controller root element | -              |
| `poll-block:complete` | When the request finishes, regardless of success or failure | the controller root element | -              |

## Side Effects
<NoSideEffects/>



## How to Use

<iframe
  src="https:///stimulus-library.netlify.app/controllers/poll_block_controller.html"
  style={{width: "100%", height: "500px", border: "0", borderRadius: "4px", overflow: "hidden"}}
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
/>


## See Also

[Async Block Controller](./AsyncBlockController)
[Lazy Block Controller](./LazyBlockController)
[Load Block Controller](./LoadBlockController)
