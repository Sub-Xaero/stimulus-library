---
id: SignalVisibilityController
title: SignalVisibilityController
---


import NoTargets from "../../_partials/no-targets.md";
import NoActions from "../../_partials/no-actions.md";
import NoSideEffects from "../../_partials/no-side-effects.md";
import Expressions from "../../_partials/expressions.md";
import { Sandpack } from "@codesandbox/sandpack-react";

## Purpose

A controller that responds to SignalInputController notifications. This controller can hide or show its content
based on the expression given in `showValue`, which it will use to evaluate the value of the input.
based on changes to inputs and their values.

This controller can be anywhere in the DOM tree and it will receive notifications from any SignalInputController with
the same `nameValue` as the `nameValue` of this controller.

## [Actions](https://stimulus.hotwire.dev/reference/actions)
<NoActions/>

## [Targets](https://stimulus.hotwire.dev/reference/targets)
<NoTargets/>

## [Classes](https://stimulus.hotwire.dev/reference/classes)
| Class  | Purpose                                                                                              | Default |
|--------|------------------------------------------------------------------------------------------------------|---------|
| `hide` | The class used to hide the content of the element when the `showValue` expression evaluates to false | `hide`  |


## [Values](https://stimulus.hotwire.dev/reference/values)

| Value  | Type   | Description                                                                                                                                                                                                                                                           | Default |
|--------|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| `name` | String | The name of the input value whose value to react to. This name should be the same as the `nameValue` of the SignalInputController you want to sync with.                                                                                                              | `-`     |
| `show` | String | A simple _expression_ which will be evaluated against the value received from SignalInputController. If the expression evaluates to true, the `hideClass` is removed from the element. If the expression evaluates to false, the `hideClass` is added to the element. | `-`     |

<Expressions/>


## Events
| Event                                 | When                                                                              | Dispatched on               | `event.detail` |                                                               |
|---------------------------------------|-----------------------------------------------------------------------------------|-----------------------------|----------------|---------------------------------------------------------------|
| `signal:visibility:${nameValue}:show` | When a signalled value matches the predicate expression and this element is shown | The controller root element |                |                                                               |
|                                       |                                                                                   |                             | `element`      | the controller root element                                   |
|                                       |                                                                                   |                             | `predicate`    | the expression the controller used to try and match the value |
|                                       |                                                                                   |                             | `value`        | the value that was received                                   |
| `signal:visibility:${nameValue}:hide` | When a signalled value fails the predicate expression and this element is hidden  | The controller root element |                |                                                               |
|                                       |                                                                                   |                             | `element`      | the controller root element                                   |
|                                       |                                                                                   |                             | `predicate`    | the expression the controller used to try and match the value |
|                                       |                                                                                   |                             | `value`        | the value that was received                                   |

## Side Effects
<NoSideEffects/>

## How to Use

<Sandpack
  template={"vanilla"}
  options={{
    externalResources: [
      "https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css",
      "https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    ]
  }}
  customSetup={{
    dependencies: {
      "@hotwired/stimulus": "latest",
      "stimulus-library": "latest"
    }
  }}
  files={{
    "/index.html": `<div class="container mt-5">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Conditional Visibility</h5>
          <div class="mb-3">
            <label class="form-label">Select a color</label>
            <select
              class="form-select"
              data-controller="signal-input"
              data-signal-input-name-value="color"
            >
              <option value="">Choose a color</option>
              <option value="red">Red</option>
              <option value="blue">Blue</option>
              <option value="green">Green</option>
            </select>
          </div>

          <div
            class="alert alert-danger"
            data-controller="signal-visibility"
            data-signal-visibility-name-value="color"
            data-signal-visibility-show-value="=red"
          >
            Red is selected!
          </div>

          <div
            class="alert alert-primary"
            data-controller="signal-visibility"
            data-signal-visibility-name-value="color"
            data-signal-visibility-show-value="=blue"
          >
            Blue is selected!
          </div>

          <div
            class="alert alert-success"
            data-controller="signal-visibility"
            data-signal-visibility-name-value="color"
            data-signal-visibility-show-value="=green"
          >
            Green is selected!
          </div>
        </div>
      </div>

      <div class="card mt-4">
        <div class="card-body">
          <h5 class="card-title">Text Length Visibility</h5>
          <div class="mb-3">
            <label class="form-label">Enter text (minimum 5 characters)</label>
            <input
              type="text"
              class="form-control"
              data-controller="signal-input"
              data-signal-input-name-value="text"
            >
          </div>
          <div
            class="alert alert-info"
            data-controller="signal-visibility"
            data-signal-visibility-name-value="text"
            data-signal-visibility-show-value=">=5"
          >
            Text is long enough!
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`,
    "/styles.css": `.hide {
  display: none;
}`,
    "/index.js": `
    import { Application } from '@hotwired/stimulus';
    import { SignalInputController, SignalVisibilityController } from 'stimulus-library';
    
    const app = Application.start();
    app.debug = true;
    app.register('signal-input', SignalInputController);
    app.register('signal-visibility', SignalVisibilityController);
`,
  }}
/>

The controller shows/hides elements based on input values. In this example:

1. Two different use cases:
   - Color selection with corresponding alerts
   - Text length validation with feedback
2. Bootstrap styling for consistent appearance
3. Custom hide class for visibility control

## See Also


