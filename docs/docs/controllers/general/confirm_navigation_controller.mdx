---
id: ConfirmNavigationController
title: ConfirmNavigationController
---


import NoActions from "../../_partials/no-actions.md";
import NoTargets from "../../_partials/no-targets.md";
import NoClasses from "../../_partials/no-classes.md";
import NoEvents from "../../_partials/no-events.md";
import ConfirmNavigationControllerJs from "../../examples/confirm_navigation_controller.mdx";

## Purpose

Alert the user when they try to navigate away from a page that might have unsaved changes on it. Form submissions will not trigger the dialogue, but closing the page or navigating away will get a confirmation dialogue.

Works with Turbolinks and Hotwire/Turbo.


## [Actions](https://stimulus.hotwire.dev/reference/actions)
<NoActions/>

## [Targets](https://stimulus.hotwire.dev/reference/targets)
<NoTargets/>

## [Classes](https://stimulus.hotwire.dev/reference/classes)
<NoClasses/>

## [Values](https://stimulus.hotwire.dev/reference/values)

| Value     | Type   | Description                                                   | Default                                     |
|-----------|--------|---------------------------------------------------------------|---------------------------------------------|
| `message` | String | The message to show to the user (if supported by the browser) | The native browser `are you sure?` dialogue |

## Events
<NoEvents/>

## Side Effects

Adds event listeners onto the `window`, and shows a confirmation dialogue for:
- `popstate`
- `submit`.
- `turbolinks:before-visit`
- `turbo:before-visit`.

Also adds a native confirmation dialogue using `window.onbeforeunload`, to detect tab closing.



## How to Use

When an event occurs that would cause a page to be unloaded, replaced, or otherwise navigated away from:
this controller will show a confirm dialogue to the user with the specified message, that will cancel said event if the user clicks "cancel".

Therefore, to prevent accidental navigation on pages where you apply changes that might get lost. You might do:
<iframe
  src="https:///stimulus-library.netlify.app/controllers/confirm_navigation_controller.html"
  style={{width: "100%", height: "500px", border: "0", borderRadius: "4px", overflow: "hidden"}}
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
/>


Or if you are applying changes using Javascript that might get lost,
you could add the following to prevent lost changes:


<ConfirmNavigationControllerJs/>
