---
id: TweenNumberController
title: TweenNumberController
---

import NoTargets from "../../_partials/no-targets.md";
import NoActions from "../../_partials/no-actions.md";
import NoEvents from "../../_partials/no-events.md";
import NoClasses from "../../_partials/no-classes.md";
import { Sandpack } from '@codesandbox/sandpack-react';

## Purpose

Stimulus controller to animate a number for visual effect, using a number of possible easing functions.

## [Actions](https://stimulus.hotwire.dev/reference/actions)
<NoActions/>

## [Targets](https://stimulus.hotwire.dev/reference/targets)
<NoTargets/>

## [Classes](https://stimulus.hotwire.dev/reference/classes)
<NoClasses/>


## [Values](https://stimulus.hotwire.dev/reference/values)

| Value        | Type   | Description                                                                                                                                                                                            | Default  |
|--------------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| `start`      | Number | The number to start at                                                                                                                                                                                 | -        |
| `end`        | Number | The number that the animation will end on                                                                                                                                                              | -        |
| `duration`   | Number | How long the full animation will take, in milliseconds                                                                                                                                                 | -        |
| `formatting` | Object | The config object passed to the number formatter, to determine how the number is shown. See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat for options. | -        |
|              |        | e.g. `{ "style": "currency", "currency": "GBP" }`                                                                                                                                                      |          |
| `easing`     | String | The  easing function that will determine how the number is animated. See https://easings.net/ for examples. Available options are:                                                                     | `linear` |
|              |        | `linear`                                                                                                                                                                                               |          |
|              |        | `easeInQuad`                                                                                                                                                                                           |          |
|              |        | `easeOutQuad`                                                                                                                                                                                          |          |
|              |        | `easeInOutQuad`                                                                                                                                                                                        |          |
|              |        | `easeInCubic`                                                                                                                                                                                          |          |
|              |        | `easeOutCubic`                                                                                                                                                                                         |          |
|              |        | `easeInOutCubic`                                                                                                                                                                                       |          |
|              |        | `easeInQuart`                                                                                                                                                                                          |          |
|              |        | `easeOutQuart`                                                                                                                                                                                         |          |
|              |        | `easeInOutQuart`                                                                                                                                                                                       |          |
|              |        | `easeInQuint`                                                                                                                                                                                          |          |
|              |        | `easeOutQuint`                                                                                                                                                                                         |          |
|              |        | `easeInOutQuint`                                                                                                                                                                                       |          |
|              |        | `easeInSine`                                                                                                                                                                                           |          |
|              |        | `easeOutSine`                                                                                                                                                                                          |          |
|              |        | `easeInOutSine`                                                                                                                                                                                        |          |
|              |        | `easeInExpo`                                                                                                                                                                                           |          |
|              |        | `easeOutExpo`                                                                                                                                                                                          |          |
|              |        | `easeInOutExpo`                                                                                                                                                                                        |          |
|              |        | `easeInCirc`                                                                                                                                                                                           |          |
|              |        | `easeOutCirc`                                                                                                                                                                                          |          |
|              |        | `easeInOutCirc`                                                                                                                                                                                        |          |
|              |        | `easeInBack`                                                                                                                                                                                           |          |
|              |        | `easeOutBack`                                                                                                                                                                                          |          |
|              |        | `easeInOutBack`                                                                                                                                                                                        |          |
|              |        | `easeInElastic`                                                                                                                                                                                        |          |
|              |        | `easeOutElastic`                                                                                                                                                                                       |          |
|              |        | `easeInOutElastic`                                                                                                                                                                                     |          |
|              |        | `easeInBounce`                                                                                                                                                                                         |          |
|              |        | `easeOutBounce`                                                                                                                                                                                        |          |
|              |        | `easeInOutBounce`                                                                                                                                                                                      |          |




## Events
<NoEvents/>

## Side Effects

- The controller sets up an IntersectionObserver, so the animation only runs when a user is looking at it.
- The controller will mutate the `innerHTML` of the attached element.
- The controller will use `requestAnimationFrame` to keyframe animate the tweening of the number.

## How to Use

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<div class="container p-4 text-center">
  <div class="mb-4">
    <a class="btn btn-primary" data-action="refresh-page#refresh" data-controller="refresh-page" href="#">
      Replay
    </a>
  </div>

  <div class="accordion accordion-flush" id="tween-number-accordion">
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed" data-bs-target="#formatted" data-bs-toggle="collapse">
          With formatting
        </button>
      </h2>
      <div class="accordion-collapse collapse" data-bs-parent="#tween-number-accordion" id="formatted">
        <div class="accordion-body">
          <h2
            data-controller="tween-number"
            data-tween-number-duration-value="3000"
            data-tween-number-easing-value="easeOutCubic"
            data-tween-number-end-value="1000000"
            data-tween-number-formatting-value='{ "style":"currency", "currency": "USD", "currencyDisplay": "name"  }'
            data-tween-number-start-value="0"
          >
          </h2>

          <h2
            data-controller="tween-number"
            data-tween-number-duration-value="3000"
            data-tween-number-easing-value="easeOutCubic"
            data-tween-number-end-value="1000000"
            data-tween-number-formatting-value='{ "style":"currency", "currency": "JPY", "currencyDisplay": "narrowSymbol"  }'
            data-tween-number-start-value="0"
          >
          </h2>

          <h2
            data-controller="tween-number"
            data-tween-number-duration-value="3000"
            data-tween-number-easing-value="easeOutCubic"
            data-tween-number-end-value="1000000"
            data-tween-number-formatting-value='{ "style":"unit", "unit": "mile-per-hour"  }'
            data-tween-number-start-value="0"
          >
          </h2>

          <h2
            data-controller="tween-number"
            data-tween-number-duration-value="10000"
            data-tween-number-easing-value="easeOutCubic"
            data-tween-number-end-value="10000"
            data-tween-number-formatting-value='{ "notation":"compact", "compactDisplay": "short" }'
            data-tween-number-start-value="0"
          >
          </h2>
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed" data-bs-target="#easing" data-bs-toggle="collapse">
          Easing functions
        </button>
      </h2>
      <div class="accordion-collapse collapse" data-bs-parent="#tween-number-accordion" id="easing">
        <div class="accordion-body">
          <div class="d-flex flex-column gap-4">
            <div class="card">
              <div class="card-body text-black">
                <p>Linear</p>
                <h2
                  data-controller="tween-number"
                  data-tween-number-duration-value="3000"
                  data-tween-number-end-value="10"
                  data-tween-number-start-value="0"
                >
                </h2>
              </div>
            </div>

            <div class="card">
              <div class="card-body text-black">
                <p>easeOutCubic</p>
                <h2
                  data-controller="tween-number"
                  data-tween-number-duration-value="3000"
                  data-tween-number-easing-value="easeOutCubic"
                  data-tween-number-end-value="10"
                  data-tween-number-start-value="0"
                >
                </h2>
              </div>
            </div>
            <div class="card">
              <div class="card-body text-black">
                <p>easeOutSine</p>
                <h2
                  data-controller="tween-number"
                  data-tween-number-duration-value="3000"
                  data-tween-number-easing-value="easeOutSine"
                  data-tween-number-end-value="10"
                  data-tween-number-start-value="0"
                >
                </h2>
              </div>
            </div>
            <div class="card">
              <div class="card-body text-black">
                <p>easeOutElastic</p>
                <h2
                  data-controller="tween-number"
                  data-tween-number-duration-value="3000"
                  data-tween-number-easing-value="easeOutElastic"
                  data-tween-number-end-value="10"
                  data-tween-number-start-value="0"
                >
                </h2>
              </div>
            </div>
            <div class="card">
              <div class="card-body text-black">
                <p>easeInCirc</p>
                <h2
                  data-controller="tween-number"
                  data-tween-number-duration-value="5000"
                  data-tween-number-easing-value="easeInCirc"
                  data-tween-number-end-value="10000000"
                  data-tween-number-start-value="0"
                >
                </h2>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>`
  }}
  customSetup={{
    dependencies: {
      "@hotwired/stimulus": "3.2.2",
      "@stimulus-library/controllers": "latest"
    }
  }}
  theme="light"
/>
