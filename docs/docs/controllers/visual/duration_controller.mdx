---
id: DurationController
title: DurationController
---


import NoEvents from "../../_partials/no-events.md";
import NoActions from "../../_partials/no-actions.md";
import NoClasses from "../../_partials/no-classes.md";
import NoTargets from "../../_partials/no-targets.md";
import { Sandpack } from '@codesandbox/sandpack-react';

## Purpose

A controller that displays the distance in numbers between the specified time and the current time. Works for past dates.
Similar to TimeDistance controller, but outputs fully qualified numbers for the duration rather than trying to construct a sentence.

Implemented using https://date-fns.org/v2.21.1/docs/formatDuration.

Fire and forget. The only configuration this controller takes is the timestamp, and whether to show seconds/minutes.

## [Actions](https://stimulus.hotwire.dev/reference/actions)
<NoActions/>

## [Targets](https://stimulus.hotwire.dev/reference/targets)
<NoTargets/>

## [Classes](https://stimulus.hotwire.dev/reference/classes)
<NoClasses/>

## [Values](https://stimulus.hotwire.dev/reference/values)

| Value                | Type   | Description                                                               | Default |
|----------------------|--------|---------------------------------------------------------------------------|---------|
| `timestamp`          | String | The UNIX timestamp in seconds of the date/time to show "time elapsed" for | -       |
| `minutes` (Optional) | Number | Whether or not to show minutes in the outputted string                    | true    |
| `seconds` (Optional) | Number | Whether or not to show seconds in the outputted string                    | true    |

## Events
<NoEvents/>

## Side Effects

The controller will intelligently set a `setTimeout` according to the fastest unit of time shown. If minutes/seconds are hidden, then the controller will update less frequently.

All timeouts are cleaned up when the controller disconnects.

## How to Use

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<div class="container p-4 text-center">
  <br/>
  <h4>No minutes, no seconds</h4>
  <hr/>
  <p>
    This timer has been running for
    <span
      id="no-mins-no-secs"
      data-controller="duration"
      data-duration-timestamp-value="1621556319"
      data-duration-minutes-value="false"
      data-duration-seconds-value="false"
    ></span>
  </p>
  <br/>
  <h4>No seconds</h4>
  <hr/>
  <p>
    This timer has been running for
    <span
      id="no-secs"
      data-controller="duration"
      data-duration-timestamp-value="1621556319"
      data-duration-minutes-value="true"
      data-duration-seconds-value="false"
    ></span>
  </p>
  <br/>
  <h4>Minutes and seconds</h4>
  <hr/>
  <p>
    This timer has been running for
    <span
      id="mins-and-secs"
      data-controller="duration"
      data-duration-timestamp-value="1621556319"
      data-duration-minutes-value="true"
      data-duration-seconds-value="true"
    ></span>
  </p>
</div>`
  }}
  customSetup={{
    dependencies: {
      "@hotwired/stimulus": "3.2.2",
      "@stimulus-library/controllers": "latest"
    }
  }}
  theme="light"
/>


